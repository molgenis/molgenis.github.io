<!DOCTYPE html><!--[if lt IE 8]><html lang="en" class="ie"><![endif]--><!--[if gt IE 8]><!--><html lang="en"><!--<![endif]--><head><meta charset="utf-8"><title>MOLGENIS - Customize</title><meta name="description" content="Customize menu, theme, homepage"><meta name="author" content="MOLGENIS community"><meta name="handheldfriendly" content="true"><meta name="mobileoptimized" content="320"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><meta http-equiv="cleartype" content="on"><script src="/res/js/jquery-1.11.3.min.js"> </script><script src="/res/js/bootstrap.min.js"></script><link rel="stylesheet" href="/res/css/prism.css"><link rel="stylesheet" href="/res/css/application.css" type="text/css"><link rel="shortcut icon" href="/favicon.ico" type="image/x-icon"><link rel="alternate" type="application/rss+xml" href="/blog/feed.xml" title="undefined"><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)
[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-2273328-11', 'auto');
ga('send', 'pageview');</script></head><body><header class="molgenis-docs-header"><div role="navigation" class="navbar navbar-static-top"><div class="container container-fluid"><div class="navbar-header"><button type="button" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar" class="navbar-toggle collapsed"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><a href="/" class="navbar-brand"><img src="/res/images/wordmark-blue.png" alt="undefined" class="wordmark"/></a></div><div id="navbar" class="collapse navbar-collapse">              <ul class="nav navbar-nav navbar-right"><li><a href="/start">Start</a></li><li class="active"><a href="/documentation">Documentation</a></li><li><a href="/compute">Compute</a></li><li><a href="/develop">Develop</a></li><li><a href="/download">Download</a></li><li><a href="/about">About</a></li><li><a href="#searchbox" data-toggle="collapse"><i class="glyphicon glyphicon-search"></i></a></li></ul></div></div></div><div id="searchbox" class="collapse"><form role="search" action="/search-results"><input placeholder="Search" name="q" class="form-control"/></form></div><div class="molgenis-docs-titlebar active"><div class="container"> <h1>Customize</h1><p>Customize menu, theme, homepage   </p></div></div></header><div class="molgenis-docs-body"><div class="container"><div class="row"><div role="complementary" class="col-md-3"><nav id="molgenis-docs-sidebar" class="molgenis-docs-sidebar hidden-print hidden-xs hidden-sm"><ul id="molgenis-docs-sidenav" class="nav molgenis-docs-sidenav"></ul></nav><script>$(function() {
    var sideNav = $("#molgenis-docs-sidenav");
    var index = 0;
    $(".row h1").each(function() {
        
        //create id for h1
        var id = (index++) + $(this).text().replace(/\s/gi,"-").replace(/\W/g,"").toLowerCase();
        $(this).prepend("<a name=\""+id+"\"></a>");
        
        //add h1 to list
        var li = $("<li><a href=\"#"+id+"\">"+$(this).text()+"</a></li>")
        sideNav.append(li);
        
        //wrap h1 into section
        var section = $(this).wrap("<section id=\""+id+"\"></section>").parent();
        
        //wrap parts of h1 into one section
        $(this).parent().nextUntil("h1").each(function(){            
            section.append($(this));
        });
        
        //repeat for h2
        if($("h2",$(this).parent()).length > 0) {
            var ul = $("<ul class=\"nav\"></ul>");
            li.append(ul);
            
            $("h2",$(this).parent()).each(function(){
            
                //create id for h2
                var id = (index++) + $(this).text().replace(/\s/gi,"-").replace(/\W/g,"").toLowerCase();
                $(this).prepend("<a name=\""+id+"\"></a>");
        
                //wrap h2 into section
                var section = $(this).wrap("<section id=\""+id+"\"></section>").parent();
        
                ul.append($("<li><a href=\"#"+id+"\">"+$(this).text()+"</a></li>"));
        
                //wrap parts of h2 into one section
                $(this).parent().nextUntil("h2").each(function(){            
                    section.append($(this));
                });
            

            });
        }
    });    
    
    //add "back to top"
    sideNav.append("<li><a href=\"#top\" style=\"font-size:smaller\">Back to top</a></li>");
    var $body   = $(document.body);
    
    //enable the 'active' highlighting using scrollspy plugin
    $('body').scrollspy({
        target: '#molgenis-docs-sidebar'
    });
    $('#molgenis-docs-sidebar').width($('#molgenis-docs-sidebar').parent().width());
    
    //enable affix
    $('#molgenis-docs-sidebar').affix({
        offset: {
            top: $('#molgenis-docs-sidebar').offset().top,
            bottom: $('.molgenis-docs-footer').outerHeight(true) + 10
        }
    });
    
    //resize affix box when window resizes
    $(window).resize(function () {
            $('.molgenis-docs-sidebar').width($('#molgenis-docs-sidebar').parent().width());
        });
    
    $("table").addClass("table table-bordered");
});</script></div><div role="main" class="col-md-9 contents"><p><strong>
MOLGENIS allows extensive customization of look &amp; feel to suit your work
</strong></p>
<h1>Menu</h1><p>The menu manager is a module that gives you the ability to arrange your menu to contain the items that you want it to contain. If you only want to show the data explorer and importer, you can do that. If you want to throw away news and background modules because you do not have any need for them, then you can do that as well. Every item is configurable.</p>
<p><img src="../res/images/menu_manager.png?raw=true," alt="Menu manager screen" title="menu manager"></p>
<p>Just remember that throwing away the menu manager module might not be the best idea! And it&#39;s good to always keep the blue Home item at the top, else your homepage will no longer be accessible to anonymous visitors.</p>
<h2>Try it out</h2><p>When you enter the menu manager screen, it can be a bit overwhelming. But do not be alarmed, we will take you through it one step at a time.</p>
<p>First, pay attention to the large list on the left. As you can see, this block represents the current menu structure. You can change the structure by moving items around, you can change the name of a menu item by pressing the pencil, and you can remove items by pressing the trash can. Remember to save your changes before leaving this screen by pressing the &#39;Save the new menu layout&#39; button. If you do not, then your changes will not be applied to the menu.</p>
<p>The block to the right gives you the options to add new menu items, or to add an entirely new menu. Try it by creating a new menu with &#39;test_plugin&#39; as ID and &#39;Test&#39; as the Name, then press &#39;Create&#39;. You will see that a new item, called Test, is added to your list of items on the left. Now that you have created a new menu, let&#39;s add an item to that menu.</p>
<p>Fill in the Create Menu Item form with the following data:</p>
<ul>
<li>Plugin: contact</li>
<li>Name: Contact information</li>
<li>Query string: </li>
</ul>
<p>Now press &#39;Create&#39;. The Contact information item will appear in the list on the right. Move it under the Test menu, and save the layout. You should now have a Test drop down in your menu, and when you open it, it should show you the Contact information item. The contact plugin is similar to the Home plugin as it let&#39;s you fill in information via an online editor</p>
<p><strong>Using Query string to add additional parameters</strong><br>Some modules, like the data explorer, can be opened with starting parameters. These can be used via the Query string field when creating a new menu item. To test this, we will add a Query string to the existing Data Explorer menu item so that the data set we created in the <a href="guide-upload">Upload guide</a>will be selected at the start.</p>
<p>Edit the existing data explorer item by pressing the pencil, and add the the following Query string:</p>
<ul>
<li>Query string: entity=example_data_table</li>
</ul>
<p>Save and when you now press the <em>Data explorer</em> in your menu then you will be taken to the dataexplorer with the example_data_table data set selected.</p>
<p>A complete list of all the Query strings available at the Data Explorer:</p>
<table>
<thead>
<tr>
<th>Query string</th>
<th>Options</th>
<th>Use</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong><em>entity</em></strong></td>
<td>All existing entities</td>
<td>Using this query string you can open the data explorer with the specified entity selected.</td>
<td>entity=test_data</td>
</tr>
<tr>
<td><strong><em>hideselect</em></strong></td>
<td>true, false</td>
<td>Hide the drop down for selecting data sets. Use this if you want users to focus on only one data set. Combined with the <strong><em>entity</em></strong> query string, you can create a Data Explorer that only shows one     data set to users.</td>
<td>entity=test_data&amp;hideselect=true</td>
</tr>
<tr>
<td><strong><em>mod</em></strong></td>
<td>data, aggregates, charts, annotators</td>
<td>Select a Data Explorer tab to show</td>
<td>entity=test_data&amp;hideselect=true&amp;mod=data</td>
</tr>
</tbody>
</table>
<p><strong>Creating redirects to URLs outside MOLGENIS</strong><br>Using the redirect plugin as a menu item, you are able to create a link to an outside source. To show how this works, we will create a menu item that links to wikipedia.</p>
<p>First, create a new Menu item that has the following traits:  </p>
<ul>
<li>Plugin: redirect</li>
<li>Name: Wikipedia Link</li>
<li>Query string: <a href="https://en.wikipedia.org/wiki/Bioinformatics">https://en.wikipedia.org/wiki/Bioinformatics</a> </li>
</ul>
<p>Second, move the new link below the Home item. Then press the &#39;Save the new menu layout&#39; button. </p>
<p>A new menu item will appear which will take you to the bioinformatics wikipedia page.</p>
<h1>Style/theme</h1><p>Creating your own research database often comes with the desire to add a unique styling to it. We wanted to give users a way to change the standard <a href="http://getbootstrap.com/">Bootstrap</a> style that is shipped with MOLGENIS. </p>
<p>Using the Theme manager, you can select between multiple bootstrap styles.</p>
<p><img src="../res/images/theme_manager.png?raw=true," alt="Theme Manager" title="Theme Manager"></p>
<p>To get the feel of how certain styles look, you can select it in the dropdown menu. The style will not be applied to the application unless you press the &#39;Save current theme&#39; button.</p>
<p>For an overview of all the different themes offered, visit the <a href="https://bootswatch.com/">Bootswatch</a> website. It is currently not yet possible to submit your own CSS sheets to update the styling. We do however plan to implement this in the future, giving you even more control to add your own personal style to your MOLGENIS research database.</p>
<h1>Homepage</h1><p>The home page is one of the most important part of your MOLGENIS application. It is a doorway to the rest of your application, and as it is such, it should look nice! When you are logged in as administrator, the home page contains an <em>edit</em> button. Clicking this button will open up an editor. </p>
<p><img src="../res/images/home_page_editor.png?raw=true," alt="Home page editor" title="home page editor"></p>
<p>Here you can do simple stuff like adding text, images, and table. </p>
<p>If you want more control, you can go to tools -&gt; Source code. This opens up an HTML editor, which is nice if you know how to write HTML. For even more fancy functionality, the Source code editor also allows you to write JavaScript code.</p>
<p>If you need some aspiration for a nice home page, you visit either the <a href="http://molgenis.org/ase">ASE website</a> or the <a href="https://molgenis03.target.rug.nl/">COL7A1 website</a>.</p>
<h1>Entity report</h1><p>By default, the entity report will be generated using the generic <a href="http://freemarker.incubator.apache.org/docs/index.html">Freemarker</a> template <a href="https://github.com/molgenis/molgenis/blob/master/molgenis-dataexplorer/src/main/resources/templates/view-entityreport-generic-default.ftl"><code>view-entityreport-generic-default.ftl</code></a>. You can customize this entity report for specific entities by adding Freemarker Templates for those entity. You&#39;ll need write permission for the entity <code>FreemarkerTemplate</code> to do this. </p>
<ol>
<li>In the top menu, select the Data Explorer.</li>
<li>In the pulldown, select the entity FreemarkerTemplate</li>
<li>Push the plus icon.</li>
<li>The Name is <code>view-entityreport-specific-&lt;the entity name&gt;.ftl</code>. So for an entity named <code>ASE</code>, the Freemarker Template containing the entity report should be named <code>view-entityreport-specific-ASE.ftl</code></li>
<li>The Value is a <a href="http://freemarker.org/">Freemarker</a> Template specifying the contents of the report.</li>
</ol>
<p>The HTML you specify in the template will be shown in a modal dialog, so you&#39;ll usually want to add a header, a body, and a footer:</p>
<pre><code class="language-html">&lt;#-- modal header --&gt;            
&lt;div class=&quot;modal-header&quot;&gt;
    &lt;button type=&quot;button&quot; class=&quot;close&quot; data-dismiss=&quot;modal&quot; aria-hidden=&quot;true&quot;&gt;&amp;times;&lt;/button&gt;
    &lt;h4 class=&quot;modal-title&quot;&gt;&lt;#-- Custom entity report title goes here --&gt;&lt;/h4&gt;
&lt;/div&gt;

&lt;#-- modal body --&gt;
&lt;div class=&quot;modal-body&quot;&gt;
    &lt;#-- Custom entity report contents go here --&gt;
&lt;/div&gt;

&lt;#-- modal footer --&gt;
&lt;div class=&quot;modal-footer&quot;&gt;
    &lt;button type=&quot;button&quot; class=&quot;btn btn-default&quot; data-dismiss=&quot;modal&quot;&gt;close&lt;/button&gt;
&lt;/div&gt;
</code></pre>
<h2>Accessing entity details from Freemarker</h2><p>The model will contain</p>
<ul>
<li>a variable named <code>entity</code> of type <a href="https://github.com/molgenis/molgenis/blob/master/molgenis-data/src/main/java/org/molgenis/data/Entity.java"><code>org.molgenis.data.Entity</code></a> </li>
<li>a variable named <code>entityMetadata</code> of type <a href="https://github.com/molgenis/molgenis/blob/master/molgenis-data/src/main/java/org/molgenis/data/EntityMetaData.java"><code>org.molgenis.data.EntityMetaData</code></a>
which you can use to specify the contents of your template.</li>
</ul>
<ul>
<li>To display the value of one of the entity&#39;s attributes value, use <code>${entity.getString(&quot;&lt;the attribute name&gt;&quot;)}</code>.</li>
<li>To make a conditional check on the actual value of an attribute, use <code>&lt;#if entity.get(&quot;P_Value&quot;) == 0&gt;...&lt;/#if&gt;</code>.</li>
<li>You can follow references to other entities: <code>&lt;#list entity.getEntities(&quot;Genes&quot;) as gene&gt;...&lt;/#list&gt;</code> will iterate over all Genes. In between the list tags, the gene gets added as a variable <code>gene</code> which you can access the same way as you access the variable <code>entity</code>.</li>
<li>To open a page at a button click, use the <code>data-href</code> attribute to specify the href: <code>&lt;button type=&quot;button&quot; class=&quot;btn&quot; data-href=&#39;&lt;the link&gt;&#39;&gt;Button label&lt;/button&gt;</code>.</li>
<li>These are just examples, many powerful constructs are possible.</li>
</ul>
<h3>Adding genome browser component</h3><p>You can show the genome browser, zoomed in on this specific entity.</p>
<p>In the body, add a placeholder div for the genome browser:
    <code>&lt;div id=&quot;modalGenomeBrowser&quot;&gt;&lt;/div&gt;</code></p>
<p>At the bottom of the template, add script tags to instantiate the genome browser:</p>
<pre><code class="language-javascript">&lt;script&gt;
    molgenis.dataexplorer.data.createGenomeBrowser({
        pageName: &#39;modalGenomeBrowser&#39;, 
        noPersist: true, 
        chr: ${entity.getString(&quot;Chr&quot;)}, 
        viewStart: ${entity.getString(&quot;Pos&quot;)} - 10000, 
        viewEnd: ${entity.getString(&quot;Pos&quot;)} + 10000
    });

    setTimeout(function(){
        $(&#39;.modal-body&#39;).animate({scrollTop:0},0);
    }, 10);
&lt;/script&gt;
</code></pre>
<h1>Internationalization</h1><h2>Adding a new language</h2><ol>
<li>In the top menu, select the Data Explorer.</li>
<li>In the pulldown, select the entity &#39;languages&#39;.</li>
<li>Push the plus icon.</li>
<li>The code must be a lowercase ISO 639 alpha-2 or alpha-3 code.</li>
<li>The name is the name of the language as shown to the user.</li>
</ol>
<p>If the is more then one language available a dropdown appears next to the &#39;Sign out&#39; button
on the right of the menu bar (Maybe you have to refresh the browser page first). You can switch langage by selecting a language
from the dropdown.</p>
<h2>Editing translations</h2><ol>
<li>In the top menu, select the Data Explorer.</li>
<li>In the pulldown, select the entity &#39;i18nstrings&#39;.</li>
<li>Click on the &#39;Edit row&#39; icon before the row you want to edit.</li>
<li>Provide a translation for each available language.</li>
</ol>
<p>Missing translations will show up as #msgid# in the user interface.</p><center><br><i>See something that could be better? <a href="https://github.com/molgenis/molgenis.org/tree/master/public/documentation/guide-customize.md">Edit this page at Github</a></i><br></center></div></div></div></div><footer class="molgenis-docs-footer"><p>MOLGENIS and these docs are maintained by the <a href="about/team">MOLGENIS team and collaborators</a>. <br/> Documentation source code released under the <a href="/LICENSE-MIT">MIT License</a>, documentation contents under <a href="/LICENSE-CC">CC BY 3.0</a>, and MOLGENIS software code under the <a href="/LICENSE-LGPLv3">LGPLv3 License</a>.<ul class="text-muted"><li>Version 1.8.0</li><li>·</li><li><a href="https://github.com/molgenis/molgenis">MOLGENIS Github</a></li><li>·</li><li><a href="http://github.com/molgenis/molgenis/issues">MOLGENIS Issues</a></li><li>·</li><li><a href="https://github.com/molgenis/molgenis.org/tree/master/public">Docs Github    </a></li><li>·</li><li><a href="http://github.com/molgenis/molgenis.org/issues">Docs Issues</a></li><li>·</li><li><a href="https://github.com/molgenis/molgenis/releases">Releases</a></li></ul></p></footer><script src="/res/js/prism.js"></script></body></html>